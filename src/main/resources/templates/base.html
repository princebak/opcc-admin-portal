<!doctype html>
<html class="fixed" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <!-- Basic -->
    <meta charset="UTF-8">
    <title>Default Layout | Porto Admin - Responsive HTML5 Template</title>
    <meta name="keywords" content="HTML5 Admin Template"/>
    <meta name="description" content="Admin SGC Portal">
    <meta name="author" content="sgc">

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link rel="icon" type="image/png" href="img/sgcLogo.png">
    <!-- Web Fonts  -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800|Shadows+Into+Light"
          rel="stylesheet" type="text/css">

    <!-- Vendor CSS -->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="vendor/animate/animate.compat.css">
    <link rel="stylesheet" href="vendor/font-awesome/css/all.min.css"/>
    <link rel="stylesheet" href="vendor/boxicons/css/boxicons.min.css"/>
    <link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.css"/>
    <link rel="stylesheet" href="vendor/bootstrap-datepicker/css/bootstrap-datepicker3.css"/>

    <!-- Create client -->
<!--    <link th:if="${title eq 'create-client'}" rel="stylesheet" href="vendor/pnotify/pnotify.custom.css"/>-->
    <th:block layout:fragment="header_section">

    </th:block>

    <!-- Theme CSS -->
    <link rel="stylesheet" href="css/theme.css"/>

    <!-- Skin CSS -->
    <link rel="stylesheet" href="css/skins/default.css"/>

    <!-- Theme Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">

    <!-- Head Libs -->
    <script src="vendor/modernizr/modernizr.js"></script>

</head>
<body>
<section class="body">

    <!-- start: header -->
    <header class="header">
        <div class="logo-container">
            <a href="#" class="logo">
                <img src="img/sgcLogo.png" width="75" height="35" alt="SGC Admin" style="height:130%;width:130%;object-fit: cover;"/>
            </a>

            <div class="d-md-none toggle-sidebar-left" data-toggle-class="sidebar-left-opened" data-target="html"
                 data-fire-event="sidebar-left-opened">
                <i class="fas fa-bars" aria-label="Toggle sidebar"></i>
            </div>

        </div>

        <!-- start: search & user box -->
        <div class="header-right">
            <div class="userbox">
                <span id="lang" th:text="#{lang}"></span>:
                <select id="locales">
                    <option id="en" value="en" th:text="#{lang.eng}"></option>
                    <option id="fr" value="fr" th:text="#{lang.fr}"></option>
                </select>
            </div>
            <span class="separator"></span>

            <div id="userbox" class="userbox">
                <a href="#" data-toggle="dropdown">
                    <figure class="profile-picture">
                        <img src="img/profile.jpg" alt="Joseph Doe" class="rounded-circle"
                             data-lock-picture="img/profile.jpg"/>
                    </figure>
                    <div class="profile-info" data-lock-name="John Doe" data-lock-email="johndoe@okler.com">
                        <span class="name">John Doe Junior</span>
                        <span class="role">Administrator</span>
                    </div>

                    <i class="fa custom-caret"></i>
                </a>

                <div class="dropdown-menu">
                    <ul class="list-unstyled mb-2">
                        <li class="divider"></li>
                        <li>
                            <a role="menuitem" tabindex="-1" href="/admin-profile"><i
                                    class="bx bx-user-circle"></i><span th:text="#{user.profile}">My Profile</span></a>
                        </li>

                        <li>
                            <a role="menuitem" tabindex="-1" href="/logout"><i class="bx bx-power-off"></i>
                                <span th:text="#{nav.logout}">Logout</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- end: search & user box -->
    </header>
    <!-- end: header -->


    <div class="inner-wrapper">
        <!-- start: sidebar -->
        <aside id="sidebar-left" class="sidebar-left">

            <div class="sidebar-header">
                <div class="sidebar-title" th:text="#{nav.title}">
                    Navigation
                </div>
                <div class="sidebar-toggle d-none d-md-block" data-toggle-class="sidebar-left-collapsed"
                     data-target="html" data-fire-event="sidebar-left-toggle">
                    <i class="fas fa-bars" aria-label="Toggle sidebar"></i>
                </div>
            </div>

            <div class="nano">
                <div class="nano-content">
                    <nav id="menu" class="nav-main" role="navigation">
                        <ul class="nav nav-main">
                            <li class="nav-active">
                                <a class="nav-link" href="/index">
                                    <i class="bx bx-home-alt" aria-hidden="true"></i>
                                    <span th:text="#{nav.dashboard}">Dashboard</span>
                                </a>
                            </li>
                            <th:block layout:fragment="side_section">

                            </th:block>
                            <li>
                                <a class="nav-link" href="/logout">
                                    <i class="bx bx-log-out" aria-hidden="true"></i>
                                    <span th:text="#{nav.logout}">Logout</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <script>
                    // Maintain Scroll Position
                    if (typeof localStorage !== 'undefined') {
                        if (localStorage.getItem('sidebar-left-position') !== null) {
                            var initialPosition = localStorage.getItem('sidebar-left-position'),
                                sidebarLeft = document.querySelector('#sidebar-left .nano-content');

                            sidebarLeft.scrollTop = initialPosition;
                        }
                    }
                </script>

            </div>

        </aside>
        <!-- end: sidebar -->
        <th:block layout:fragment="page_content">

        </th:block>
    </div>

</section>

<!-- Vendor -->
<script src="vendor/jquery/jquery.js"></script>
<script src="vendor/jquery-browser-mobile/jquery.browser.mobile.js"></script>
<script src="vendor/popper/umd/popper.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.js"></script>
<script src="vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="vendor/common/common.js"></script>
<script src="vendor/nanoscroller/nanoscroller.js"></script>
<script src="vendor/magnific-popup/jquery.magnific-popup.js"></script>
<script src="vendor/jquery-placeholder/jquery.placeholder.js"></script>

<!-- Create client -->
<!--<script th:if="${title eq 'create-client'}" src="vendor/jquery-validation/jquery.validate.js"></script>-->
<!--<script th:if="${title eq 'create-client'}" src="vendor/pnotify/pnotify.custom.js"></script>-->

<th:block layout:fragment="footer_section">

</th:block>

<!-- Theme Base, Components and Settings -->
<script src="js/theme.js"></script>

<!-- Theme Custom -->
<script src="js/custom.js"></script>

<!-- Theme Initialization Files -->
<script src="js/theme.init.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        if($("#lang").text() == "Language"){
            $("#en").attr("selected","true");
        }else if($("#lang").text() == "Langue"){
            $("#fr").attr("selected","true");
        }
        $("#locales").change(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != ''){
                var location = window.location+"";
                if( location.includes('#') ){
                    location = location.replace('#','');
                }
                if(location.includes('lang=fr')){
                    window.location.replace(location.replace('lang=fr','lang=' + selectedOption));
                }else if(location.includes('lang=en')){
                    window.location.replace(location.replace('lang=en','lang=' + selectedOption));
                }else if(location.includes('?') && !location.includes('lang=fr') && !location.includes('lang=en')){
                    window.location.replace(location+'&lang=' + selectedOption);
                }else{
                    window.location.replace(location+'?lang=' + selectedOption);
                }
            }
        });
    });
</script>
</body>
</html>